<!DOCTYPE html>
<html>
<head>
  <title>Bttracker</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
</head>
<body>
<header class="red_bg">
    <div id="header_container">
        <div id="logo">
            <h1>HOBtt</h1>
        </div>
        <div id="upload_link">
            <button type="button" role="button" class="btn" data-toggle="modal" data-target="#upload"><i class="icon-file"></i> Upload a torrent file</button>
        </div>
		<div id="search_form">
			<form class="form-search">
				<div class="input-append">
				    <input type="text" class="input-large search-query" placeholder="Search torrents">
				    <button type="submit" class="btn">Search</button>
				</div>
			</form>
		</div>
    </div>
</header>

<div id="main_container">
    <section id="main">
        <% if flash[:alert] %>
            <div class="alert alert-error fade in">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <strong>Warning:</strong> <%= flash[:alert] %>
            </div>
        <% elsif flash[:notice] %>
            <div class="alert alert-error fade in">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <strong>Warning:</strong> <%= flash[:notice] %>
            </div>
        <% end %>

        <%= yield %>
    </section>
</div>

<div id="footer_container" class="red_bg">
    <footer>
        <p class="monospace">
        :coded_by => <%= link_to 'mrLite', 'http://aq.nerds.fi/' %>, 
        :with => <%= link_to 'coffee', 'http://en.wikipedia.org/wiki/Coffee' %>, 
        :sauce => <%= link_to 'github', 'http://github.com/mrLite/HOBtt' %>
        </p>
    </footer>
</div>

<div id="upload" class="modal hide fade" role="dialog" aria-labelledby="uploadLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h2 id="uploadLabel">Upload a torrent file</h2>
    </div>
    <div class="modal-body">
        <h3><span class="label">STEP 1</span></h3>
        <p>Make a torrent file using your favourite torrent client. Use <code>http://<%= request.host_with_port %>/announce</code> as the tracker url.</p>
        <p>Do not set the private flag on.</p>

        <h3><span class="label">STEP 2</span></h3>
        <p>Start seeding the newly created torrent and upload the file using the form below.</p>

        <%= form_tag({:action => :upload}, :multipart => true) do |f| %>
            <input id="file" name="file" type="file">
            <div class="input-append">
                <input id="file_path" class="input-xlarge" type="text">
                <a id="fake_file_button" class="btn">Browse</a>
                <input name="commit" type="submit" value="Submit" class="btn">
            </div>
        <% end %>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
</div>
</body>
</html>
